---
title: "Exercices autour de l'estimation et des tests"
subtitle: "Intervalle de confiance d'une moyenne, lorsque la variance est inconnue"
author: "FX Jollois"
date: "BUT TC - 2ème année"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(dplyr)
library(kableExtra)

IC_moyenne = function(n, m, s, alpha, digits = 2, msg = "") {
  u = qt(1 - alpha / 200, n - 1)
  bornes = round(m + c(-u, u) * sqrt(s / (n - 1)), digits = digits)
  cat(msg, "Intervalle de confiance à ", 100 - alpha, "% : [", paste(bornes, collapse = "; "), "]\n", sep = "")
}
```

### Exercice 1 - Âge moyen des clients

Une entreprise souhaite connaître l'âge de ces clients. Pour cela, elle réalise un sondage sur 120 personnes. Sur cet échantillon, on obtient un âge moyen de 35.0 et une variance de 15.08.

- On souhaite avoir un intervalle de confiance de la moyenne des clients à 95 %. Quel est-il ?
- Et à 90 % ? Et à 99 % ?

#### Solution

```{r}
IC_moyenne(120, 35, 15.08, 5)
IC_moyenne(120, 35, 15.08, 10)
IC_moyenne(120, 35, 15.08, 1)
```

<hr>

### Exercice 2 - Poids des bébés à la naissance

Un hôpital fait une étude sur le poids des bébés à la naissance. Lors du mois écoulé, le poids moyen des 50 enfants nés a été de 3.55 kg et une variance de 0.32.

- Déterminer les intervalles de confiance à 90%, 95% et 99%.
- Une précédente étude avait conclus à un poids moyen à la naissance de 3.4 kg. Que peut-on dire ?

#### Solution

```{r}
IC_moyenne(49, 3.55, 0.32, 10)
IC_moyenne(49, 3.55, 0.32, 5)
IC_moyenne(49, 3.55, 0.32, 1)
```

En prenant un risque à 10%, on conclue que le poids a changé entre les deux études (intervalles ne se chevauchant pas). Alors qu'avec un risque à 5% ou 1%, on conclue que rien n'a changé.

<hr>

### Exercice 3 - Circuits électroniques

Peut-on dire qu'il y a une différence entre les deux avec un seuil de confiance à $90%$ ? et à $95\%$ ?

On compare deux circuits électroniques, dont on veut savoir si le gain est identique entre les deux. Nous réalisons 300 mesures pour chacun des circuits, et obtenons les moyennes ($m_i$) et écarts-type ($s_i$) suivants :

- $m_1 = 15.1$ et $s_1 = 4.1$
- $m_2 = 15.9$ et $s_2 = 3.9$

Peut-on dire qu'il y a une différence entre les deux avec un seuil de confiance à 90 % ? et à 95 % ?

#### Solution

```{r}
IC_moyenne(300, 15.1, 4.1**2, 10, msg = "CIRCUIT 1 : ")
IC_moyenne(300, 15.9, 3.9**2, 10, msg = "CIRCUIT 2 : ")
```

En considérant un seuil de confiance de 90%, on observe que les deux circuits ont un gain différent (c'est à la limite, mais les intervalles ne se chevauchent pas).


```{r}
IC_moyenne(300, 15.1, 4.1**2, 5, msg = "CIRCUIT 1 : ")
IC_moyenne(300, 15.9, 3.9**2, 5, msg = "CIRCUIT 2 : ")
```

Avec un seuil de confiance à 95%, nous arrivons à la conclusion inverse (les intervalles étant plus larges, ils se chevauchent dans ce cas).

### Exercice 4 - Qualité de production

On désire comparer la qualité de deux doseuses pour boîtes de haricots verts de quantité nominale égale à 800g. On prélève un échantillon de 200 éléments sur chacune des deux machines, ce qui donne les deux valeurs moyennes suivantes :

- $m_1 = 807$ et $s^2 = 68$ pour la première machine
- $m_2 = 805$ et $s^2 = 59$ pour la deuxième machine

Les dosages moyens de ces deux machines sont-ils différents au risque de $5\%$ ? Sont-elles fiables par rapport au dosage de 800g à obtenir ?

#### Solution

```{r}
IC_moyenne(200, 807, 68, 10, msg = "MACHINE 1 : ")
IC_moyenne(200, 805, 59, 10, msg = "MACHINE 2 : ")
```

Les deux machines ont bien un dosage moyen différent entre elles. De plus, elles ont toutes deux un dosage bien supérieur à la quantité nominale prévue (de 800g).



